<h1>ログインしているユーザーのプロフィール情報ページ</h1>

<div class="user-container-show">
  <h3 class="user-form-title">プロフィール</h3>

  <% if @user.image? %>
    <%= image_tag @user.image.url %>
  <% else %>
    <%= image_tag avatar_url(current_user), class: "user-image", alt: "ユーザーアイコン" %>
  <% end %>

  <%= form_for :user, url: users_edit_url(@user), action: :update, method: :post do |f| %>
    <div class="file">
      <label class="button is-primary avatar-upload">
        <%= f.file_field :avatar, accept: 'image/jpeg,image/gif,image/png', class: "file-input", onchange: "this.form.submit();" %>
        <i class="fas fa-upload"></i>プロフィール画像の更新
      </label>
    </div><br />
  <% end %>

  <tr>
    <th>アカウントID&名前</th>
    <td><%= @user.id %> <%= @user.full_name %></td>
  </tr><br /><br />

  <tr>
    <th>自己紹介</th>
    <td><%= @user.introduction %></td>
  </tr><br />

  <%= form_for :user, url: users_edit_url(@user), action: :update, method: :post do |f| %>
    <tr>
      <td><%= f.text_area :introduction, class: "intro-form" %></td><br />
      <td><%= f.submit "自己紹介を更新する", class: "button is-danger" %></td><br /><br />
    </tr>
  <% end %>

  <div>
    <p><%= link_to "アカウントページへ", "/users/#{current_user.id}/show" , class: "submit-btn btn-sub btn-op" %></p><br />
    <p><%= link_to "戻る", :back, class: "user-link-btn" %></p>
  </div>
</table>
